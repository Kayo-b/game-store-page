{"ast":null,"code":"import _toConsumableArray from\"/home/kayo-b/the_odin_project/game-store-page/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useState,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(_ref){var shopCart=_ref.shopCart,setCart=_ref.setCart,cartDisplay=_ref.cartDisplay,setCartDisplay=_ref.setCartDisplay,cartDisplayTrans=_ref.cartDisplayTrans,setCartDisplayTrans=_ref.setCartDisplayTrans;function calculateSubtotal(){var count=0;var discount=0;shopCart.map(function(item){return count+=Number(item.salePrice*item.quantity);});shopCart.map(function(item){return discount+=Number(item.normalPrice*item.quantity);});var returningValues={subtotal:(Math.round(count*100)/100).toFixed(2),totalDiscount:(Math.round(discount*100)/100).toFixed(2),noDiscount:Math.round((discount+count)*100/100).toFixed(2)};return returningValues;}function RemoveFromCart(item){var newShopCart=shopCart;newShopCart.splice(shopCart.indexOf(item),1);setCart(_toConsumableArray(shopCart));}function AddQuantity(item){var newShopCart=shopCart;newShopCart[shopCart.indexOf(item)].quantity+=1;setCart(_toConsumableArray(shopCart));}function SubtractQuantity(item){var newShopCart=shopCart;newShopCart[shopCart.indexOf(item)].quantity-=1;if(newShopCart[shopCart.indexOf(item)].quantity===0){RemoveFromCart(item);}setCart(_toConsumableArray(shopCart));}function SetQuantity(value,item){var newShopCart=shopCart;newShopCart[shopCart.indexOf(item)].quantity=value;if(value===\"0\"||value===\"\"){RemoveFromCart(item);}setCart(_toConsumableArray(shopCart));}return/*#__PURE__*/_jsx(\"div\",{className:\"shop-cart-background\",style:{visibility:cartDisplay},children:/*#__PURE__*/_jsx(\"div\",{className:\"shopCartContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"shopCart\",style:{transform:cartDisplayTrans},children:[/*#__PURE__*/_jsx(\"button\",{className:\"cart-buttons\",onClick:function onClick(){setCartDisplay(\"hidden\");setCartDisplayTrans(\"translateX(100%)\");},children:\"X\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"SHOPPING CART\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"cartList\",children:shopCart.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"button-list\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cart-buttons\",onClick:function onClick(){return RemoveFromCart(item);},children:\"x\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item-title-cart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner-item-title-cart\",children:item.title})}),/*#__PURE__*/_jsx(\"button\",{className:\"cart-buttons\",onClick:function onClick(){return AddQuantity(item);},children:\"+\"}),/*#__PURE__*/_jsx(\"input\",{className:\"amoutInput\",max:\"99\",min:\"0\",style:{borderRadius:\"2px\",textAlign:\"center\",fontSize:\"medium\",minWidth:\"20px\"},value:item.quantity,onChange:function onChange(e){return SetQuantity(e.target.value,item);},readOnly:true}),/*#__PURE__*/_jsx(\"button\",{className:\"cart-buttons\",onClick:function onClick(){return SubtractQuantity(item);},children:\"-\"})]},item.dealID+shopCart.indexOf(item));})}),shopCart.length===0?/*#__PURE__*/_jsx(\"h5\",{style:{color:\"aliceblue\"},children:\"CART IS EMPTY\"}):/*#__PURE__*/_jsxs(\"div\",{style:{color:\"black\",fontSize:\"medium\",display:\"block\",marginRight:\"23px\"},children:[/*#__PURE__*/_jsxs(\"p\",{style:{height:\"7px\",textAlign:\"right\"},children:[\"Regular Price: $\",calculateSubtotal().noDiscount,\" USD\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{height:\"7px\",textAlign:\"right\"},children:[\"You save: $\",calculateSubtotal().totalDiscount,\" USD\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{height:\"7px\",textAlign:\"right\"},children:[\"Subtotal: $\",calculateSubtotal().subtotal,\" USD\"]})]})]})})});};export default Cart;","map":{"version":3,"names":["React","useState","useEffect","useLocation","jsx","_jsx","jsxs","_jsxs","Cart","_ref","shopCart","setCart","cartDisplay","setCartDisplay","cartDisplayTrans","setCartDisplayTrans","calculateSubtotal","count","discount","map","item","Number","salePrice","quantity","normalPrice","returningValues","subtotal","Math","round","toFixed","totalDiscount","noDiscount","RemoveFromCart","newShopCart","splice","indexOf","_toConsumableArray","AddQuantity","SubtractQuantity","SetQuantity","value","className","style","visibility","children","transform","onClick","title","max","min","borderRadius","textAlign","fontSize","minWidth","onChange","e","target","readOnly","dealID","length","color","display","marginRight","height"],"sources":["/home/kayo-b/the_odin_project/game-store-page/src/components/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nconst Cart = ({\n  shopCart,\n  setCart,\n  cartDisplay,\n  setCartDisplay,\n  cartDisplayTrans,\n  setCartDisplayTrans,\n}) => {\n  function calculateSubtotal() {\n    let count = 0;\n    let discount = 0;\n\n    shopCart.map((item) => (count += Number(item.salePrice * item.quantity)));\n    shopCart.map(\n      (item) => (discount += Number(item.normalPrice * item.quantity))\n    );\n    let returningValues = {\n      subtotal: (Math.round(count * 100) / 100).toFixed(2),\n      totalDiscount: (Math.round(discount * 100) / 100).toFixed(2),\n      noDiscount: Math.round(((discount + count) * 100) / 100).toFixed(2),\n    };\n    return returningValues;\n  }\n\n  function RemoveFromCart(item) {\n    let newShopCart = shopCart;\n    newShopCart.splice(shopCart.indexOf(item), 1);\n\n    setCart([...shopCart]);\n  }\n\n  function AddQuantity(item) {\n    let newShopCart = shopCart;\n    newShopCart[shopCart.indexOf(item)].quantity += 1;\n\n    setCart([...shopCart]);\n  }\n\n  function SubtractQuantity(item) {\n    let newShopCart = shopCart;\n    newShopCart[shopCart.indexOf(item)].quantity -= 1;\n    if (newShopCart[shopCart.indexOf(item)].quantity === 0) {\n      RemoveFromCart(item);\n    }\n    setCart([...shopCart]);\n  }\n\n  function SetQuantity(value, item) {\n    let newShopCart = shopCart;\n    newShopCart[shopCart.indexOf(item)].quantity = value;\n    if (value === \"0\" || value === \"\") {\n      RemoveFromCart(item);\n    }\n    setCart([...shopCart]);\n  }\n\n  return (\n    <div className=\"shop-cart-background\" style={{ visibility: cartDisplay }}>\n      <div className=\"shopCartContainer\">\n        <div className=\"shopCart\" style={{ transform: cartDisplayTrans }}>\n          <button\n            className=\"cart-buttons\"\n            onClick={() => {\n              setCartDisplay(\"hidden\");\n              setCartDisplayTrans(\"translateX(100%)\");\n            }}\n          >\n            X\n          </button>\n          <h4>SHOPPING CART</h4>\n          <ul className=\"cartList\">\n            {shopCart.map((item) => (\n              <li\n                key={item.dealID + shopCart.indexOf(item)}\n                className=\"button-list\"\n              >\n                <button\n                  className=\"cart-buttons\"\n                  onClick={() => RemoveFromCart(item)}\n                >\n                  x\n                </button>\n                <div className=\"item-title-cart\">\n                  <div className=\"inner-item-title-cart\">{item.title}</div>\n                </div>\n                <button\n                  className=\"cart-buttons\"\n                  onClick={() => AddQuantity(item)}\n                >\n                  +\n                </button>\n                <input\n                  className=\"amoutInput\"\n                  max=\"99\"\n                  min=\"0\"\n                  style={{\n                    borderRadius: \"2px\",\n                    textAlign: \"center\",\n                    fontSize: \"medium\",\n                    minWidth: \"20px\",\n                  }}\n                  value={item.quantity}\n                  onChange={(e) => SetQuantity(e.target.value, item)}\n                  readOnly\n                ></input>\n                <button\n                  className=\"cart-buttons\"\n                  onClick={() => SubtractQuantity(item)}\n                >\n                  -\n                </button>\n              </li>\n            ))}\n          </ul>\n          {shopCart.length === 0 ? (\n            <h5 style={{ color: \"aliceblue\" }}>CART IS EMPTY</h5>\n          ) : (\n            <div\n              style={{\n                color: \"black\",\n                fontSize: \"medium\",\n                display: \"block\",\n                marginRight: \"23px\",\n              }}\n            >\n              <p style={{ height: \"7px\", textAlign: \"right\" }}>\n                Regular Price: ${calculateSubtotal().noDiscount} USD\n              </p>\n              <p style={{ height: \"7px\", textAlign: \"right\" }}>\n                You save: ${calculateSubtotal().totalDiscount} USD\n              </p>\n              <p style={{ height: \"7px\", textAlign: \"right\" }}>\n                Subtotal: ${calculateSubtotal().subtotal} USD\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Cart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}